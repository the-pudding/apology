parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"cscv":[function(require,module,exports) {
var define;
var t;!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof t&&t.amd?t(i):(e=e||self).Swiper=i()}(this,function(){"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}function e(t,e){void 0===e&&(e=[]),Array.isArray(e)||(e=[e]),e.forEach(function(e){return!t.classList.contains(e)&&t.classList.add(e)})}function i(t,e){void 0===e&&(e=[]),Array.isArray(e)||(e=[e]),e.forEach(function(e){return t.classList.contains(e)&&t.classList.remove(e)})}function s(t,e){var i,s=getComputedStyle(t).transform.replace(/[a-z]|\(|\)|\s/g,"").split(",").map(parseFloat);return 16===s.length?i=s.slice(12,14):6===s.length&&(i=s.slice(4,6)),i[e?0:1]||0}var n=["INPUT","SELECT","OPTION","TEXTAREA","BUTTON","VIDEO"];return function(){function o(t,e){e=o.formatConfig(e),this.index=0,this.scrolling=!1,this.config=e,this.supportTouch=Boolean("ontouchstart"in window||0<window.navigator.maxTouchPoints||0<window.navigator.msMaxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch),"string"==typeof t&&(t=document.body.querySelector(t)),this.$el=t,this.$wrapper=t.querySelector("."+e.wrapperClass),this.eventHub={},this.initPlugins(e.plugins),this.emit("before-init",this),this.initListener(),this.initTouchStatus(),this.initWheelStatus(),this.update(),this.attachListener(),this.emit("after-init",this),this.scroll(e.initialSlide)}var r=o.prototype;return r.initPlugins=function(t){var e=this;(t||[]).forEach(function(t){return t(e)})},r.on=function(t,e){var i=this.eventHub;i[t]?i[t].push(e):i[t]=[e]},r.off=function(t,e){var i=this.eventHub;if(i[t]){var s=i[t].indexOf(e);-1<s&&i[t].splice(s,1)}},r.emit=function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];var n=this.eventHub;n[t]&&n[t].forEach(function(t){return t.apply(void 0,i)})},r.initListener=function(){var t=this,e=this.$wrapper,i=this.config,o=this.supportTouch;this.listeners={handleTouchStart:function(r){for(var a=0;a<i.excludeElements.length;a++)if(i.excludeElements[a].contains(r.target))return;t.initTouchStatus();var h=t.touchStatus,l=i.touchStartPreventDefault&&-1===n.indexOf(r.target.nodeName)||i.touchStartForcePreventDefault;h.startOffset=s(e,t.isHorizontal),t.transform(h.startOffset),e.style.transition="none",h.isTouchStart=!0,h.touchStartTime=Date.now(),h.touchTracks.push({x:o?r.touches[0].pageX:r.pageX,y:o?r.touches[0].pageY:r.pageY}),l&&!i.passiveListeners&&r.preventDefault()},handleTouchMove:function(e){var s=t.touchStatus,n=s.touchTracks;if(s.isTouchStart&&!s.isScrolling){i.touchMoveStopPropagation&&e.stopPropagation();var r={x:o?e.touches[0].pageX:e.pageX,y:o?e.touches[0].pageY:e.pageY},a={x:r.x-n[n.length-1].x,y:r.y-n[n.length-1].y};n.push(r);var h=180*Math.atan2(Math.abs(a.y),Math.abs(a.x))/Math.PI,l=0;t.isHorizontal?h<i.touchAngle||s.isTouching?(s.isTouching=!0,l=a.x,e.preventDefault()):s.isScrolling=!0:90-h<i.touchAngle||s.isTouching?(s.isTouching=!0,l=a.y,e.preventDefault()):s.isScrolling=!0,t.scrollPixel(l*i.touchRatio)}},handleTouchEnd:function(n){if(t.touchStatus.isTouchStart){var o=t.index,r=t.slideSize,a=t.touchStatus,h=Date.now()-a.touchStartTime,l=s(e,t.isHorizontal)-a.startOffset;e.style.transition="transform ease "+i.speed+"ms",h>t.config.longSwipesMs?Math.abs(l)>=r*i.longSwipesRatio?t.scroll(0<l?o-1:o+1,!0):t.scroll(o,!0):0==l?t.scroll(o,!0):t.scroll(0<l?o-1:o+1,!0),t.initTouchStatus()}},handleWheel:function(e){var s=t.index,n=t.wheelStatus,o=e.deltaY;(0<Math.abs(o)-Math.abs(n.wheelDelta)||!n.wheeling)&&Math.abs(o)>=i.mousewheel.sensitivity&&t.scroll(0<o?s-1:s+1),n.wheelDelta=o,clearTimeout(n.wheelingTimer),n.wheeling=!0,n.wheelingTimer=setTimeout(function(){t.initWheelStatus()},200),e.preventDefault(),e.stopPropagation()}}},r.attachListener=function(){var t=this.$el,e=this.config,i=this.supportTouch,s=this.listeners,n=s.handleTouchStart,o=s.handleTouchMove,r=s.handleTouchEnd,a=s.handleWheel;i?(t.addEventListener("touchstart",n,{passive:e.passiveListeners,capture:!1},!1),t.addEventListener("touchmove",o),t.addEventListener("touchend",r),t.addEventListener("touchcancel",r)):(t.addEventListener("mousedown",n),document.addEventListener("mousemove",o),document.addEventListener("mouseup",r)),e.mousewheel&&t.addEventListener("wheel",a)},r.detachListener=function(){var t=this.$el,e=this.listeners,i=e.handleTouchStart,s=e.handleTouchMove,n=e.handleTouchEnd,o=e.handleWheel;t.removeEventListener("touchstart",i),t.removeEventListener("touchmove",s),t.removeEventListener("touchend",n),t.removeEventListener("touchcancel",n),t.removeEventListener("mousedown",i),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",n),t.removeEventListener("wheel",o)},o.formatConfig=function(e){return void 0===e&&(e={}),e.mousewheel&&(e.mousewheel=t({invert:!1,sensitivity:1},e.mousewheel)),t({},{direction:"horizontal",touchRatio:1,touchAngle:45,longSwipesRatio:.5,initialSlide:0,loop:!1,mousewheel:!1,pagination:!1,passiveListeners:!0,resistance:!0,resistanceRatio:.85,speed:300,longSwipesMs:300,intermittent:0,spaceBetween:0,slidePrevClass:"swiper-slide-prev",slideNextClass:"swiper-slide-next",slideActiveClass:"swiper-slide-active",slideClass:"swiper-slide",wrapperClass:"swiper-wrapper",touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchMoveStopPropagation:!1,excludeElements:[]},{},e)},r.transform=function(t){this.$wrapper.style.transform=this.isHorizontal?"translate3d("+t+"px, 0, 0)":"translate3d(0, "+t+"px, 0)"},r.scroll=function(t,s){var n=this;if(void 0===t&&(t=0),void 0===s&&(s=!1),!this.scrolling||s){this.emit("before-slide",this.index,this);var o=this.config,r=this.minIndex,a=this.maxIndex,h=(t=t<r?r:a<t?a:t)*this.boxSize;this.scrolling=!0,this.transform(-h);var l=this.$list[t],c=this.$list[t-1],u=this.$list[t+1];l&&(e(l,o.slideActiveClass),i(l,[o.slidePrevClass,o.slideNextClass])),c&&(e(c,o.slidePrevClass),i(c,[o.slideActiveClass,o.slideNextClass])),u&&(e(u,o.slideNextClass),i(u,[o.slideActiveClass,o.slidePrevClass])),this.index=t,setTimeout(function(){n.scrolling=!1,n.emit("after-slide",t,n)},this.config.speed+this.config.intermittent)}},r.scrollPixel=function(t){var e=t.toExponential().split("e")[1],i=e<=0?Math.pow(10,-(e-1)):1;this.config.resistance&&(0<t&&0===this.index?t-=Math.pow(t*i,this.config.resistanceRatio)/i:t<0&&this.index===this.maxIndex&&(t+=Math.pow(-t*i,this.config.resistanceRatio)/i));var n=s(this.$wrapper,this.isHorizontal);this.transform(n+t)},r.initTouchStatus=function(){this.touchStatus={touchTracks:[],startOffset:0,touchStartTime:0,isTouchStart:!1,isScrolling:!1,isTouching:!1}},r.initWheelStatus=function(){this.wheelStatus={wheeling:!1,wheelDelta:0,wheelingTimer:!1}},r.update=function(){var t=this,e=this.$el,i=this.$wrapper,s=this.index,n=this.config,o=i.style,r="horizontal"===n.direction;this.isHorizontal=r,this.$list=[].slice.call(e.getElementsByClassName(n.slideClass)),this.minIndex=0,this.maxIndex=this.$list.length-1,this.slideSize=r?e.offsetWidth:e.offsetHeight,this.boxSize=this.slideSize+n.spaceBetween,this.$list.forEach(function(e){e.style[r?"width":"height"]=t.slideSize+"px",e.style[r?"margin-right":"margin-bottom"]=n.spaceBetween+"px"}),e.style.overflow="hidden",o.willChange="transform",o.transition="transform ease "+this.config.speed+"ms",o[r?"width":"height"]=this.boxSize*this.$list.length+"px",o.display="flex",o.flexDirection=r?"row":"column",this.transform(-s*this.boxSize)},r.destroy=function(){var t=this.$el,e=this.$wrapper,s=this.config.slideActiveClass;this.emit("before-destroy",this),this.$list.forEach(function(t){t.removeAttribute("style"),i(t,[s])}),e.removeAttribute("style"),t.removeAttribute("style"),this.detachListener(),this.emit("after-destroy",this),this.$el=null,this.$list=[],this.$wrapper=null,this.eventHub={},this.config=o.formatConfig()},o}()});
},{}],"or4r":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e="Expected a function",n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,v=a||s||Function("return this")(),l=Object.prototype,p=l.toString,b=Math.max,m=Math.min,y=function(){return v.Date.now()};function d(t,n,r){var i,o,u,f,c,a,s=0,v=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError(e);function d(e){var n=i,r=o;return i=o=void 0,s=e,f=t.apply(r,n)}function g(t){var e=t-a;return void 0===a||e>=n||e<0||l&&t-s>=u}function O(){var t=y();if(g(t))return x(t);c=setTimeout(O,function(t){var e=n-(t-a);return l?m(e,u-(t-s)):e}(t))}function x(t){return c=void 0,p&&i?d(t):(i=o=void 0,f)}function T(){var t=y(),e=g(t);if(i=arguments,o=this,a=t,e){if(void 0===c)return function(t){return s=t,c=setTimeout(O,n),v?d(t):f}(a);if(l)return c=setTimeout(O,n),d(a)}return void 0===c&&(c=setTimeout(O,n)),f}return n=h(n)||0,j(r)&&(v=!!r.leading,u=(l="maxWait"in r)?b(h(r.maxWait)||0,n):u,p="trailing"in r?!!r.trailing:p),T.cancel=function(){void 0!==c&&clearTimeout(c),s=0,i=a=o=c=void 0},T.flush=function(){return void 0===c?f:x(y())},T}function j(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){return!!t&&"object"==typeof t}function O(t){return"symbol"==typeof t||g(t)&&p.call(t)==r}function h(t){if("number"==typeof t)return t;if(O(t))return n;if(j(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=j(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=u.test(t);return r||f.test(t)?c(t.slice(2),r?2:8):o.test(t)?n:+t}module.exports=d;
},{}],"WEtf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return r.android()||r.blackberry()||r.ios()||r.opera()||r.windows()}},e=r;exports.default=e;
},{}],"v9Q8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Womenâ€™s Pockets are Inferior"}],e=null;function n(t,e){var n=document.getElementsByTagName("script")[0],a=document.createElement("script");return a.src=t,a.async=!0,n.parentNode.insertBefore(a,n),e&&"function"==typeof e&&(a.onload=e),a}function a(e){var n=new XMLHttpRequest,a=Date.now(),o="https://pudding.cool/assets/data/stories.json?v=".concat(a);n.open("GET",o,!0),n.onload=function(){if(n.status>=200&&n.status<400){var a=JSON.parse(n.responseText);e(a)}else e(t)},n.onerror=function(){return e(t)},n.send()}function o(t){return"\n\t<a class='footer-recirc__article' href='https://pudding.cool/".concat(t.url,"' target='_blank'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/").concat(t.image,".jpg' alt='").concat(t.hed,"'>\n\t\t<p class='article__headline'>").concat(t.hed,"</p>\n\t</a>\n\t")}function r(){var t=window.location.href,n=e.filter(function(e){return!t.includes(e.url)}).slice(0,4).map(o).join("");d3.select(".pudding-footer .footer-recirc__articles").html(n)}function s(){a(function(t){e=t,r()})}var c={init:s};exports.default=c;
},{}],"f0mE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=d3.select('[data-js="images"'),e=t.select('[data-js="images__figure"');function a(){}function r(){e.selectAll("img").transition().duration(0).delay(function(t,e){return 750*e}).on("end",function(t,e,a){var r=d3.select(a[e]),d=r.attr("data-top"),n=r.attr("data-left");r.style("top",d).style("left",n)})}function d(){e.selectAll("img").each(function(t,e,a){var r=d3.format("%")(.4+.2*Math.random()),d=d3.format("%")(.2+.6*Math.random());d3.select(a[e]).attr("data-top",r).attr("data-left",d)})}var n={init:d,resize:a,slide:r};exports.default=n;
},{}],"Pybl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=d3.select('[data-js="people"'),e=t.select('[data-js="people__figure"');function a(){}function o(){e.selectAll("img").transition().duration(0).delay(function(t,e){return 500*e}).on("end",function(t,e,a){var o=d3.select(a[e]),r=o.attr("data-top"),l=o.attr("data-left");o.style("top",r).style("left",l)})}function r(){e.selectAll("img").each(function(t,e,a){var o=d3.format("%")(.4+.2*Math.random()),r=d3.format("%")(.2+.6*Math.random());d3.select(a[e]).attr("data-top",o).attr("data-left",r)})}var l={init:r,resize:a,slide:o};exports.default=l;
},{}],"xZJw":[function(require,module,exports) {
"use strict";function t(t){return new Promise(function(e,n){var r=t.split(".").pop();"csv"===r?d3.csv("assets/data/".concat(t)).then(e).catch(n):"json"===r?d3.json("assets/data/".concat(t)).then(e).catch(n):n(new Error("unsupported file type for: ".concat(t)))})}function e(e){if("string"==typeof e)return t(e);var n=e.map(t);return Promise.all(n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"X1gf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./load-data"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=d3.select('[data-js="category"'),c=a.select('[data-js="category__graphic"'),i=c.select('[data-js="graphic__figure"'),l=["Copywriting","Incorrect Statement","Low-quality Product","Inappropriate Animal Care","Plagiarism"];function o(){}function u(e){var t=e.filter(function(e){return"FALSE"===e.remove_flag}).map(function(e){return r({},e,{cat:l.includes(e.controversy_type)?"Miscellaneous":e.controversy_type})}),n=d3.nest().key(function(e){return e.cat}).entries(t).map(function(e){return r({},e,{values:e.values.concat([{name:e.key,label:!0,cat:e.values[0].cat}])})});n.sort(function(e,t){return d3.descending(e.values.length,t.values.length)});var s=i.selectAll(".controversy").data(n).join("div").attr("class","controversy").selectAll(".person").data(function(e){return e.values}).join("div").attr("class",function(e){return"person ".concat(e.label?"is-label":""," ").concat(e.beauty?"is-beauty":"")});s.append("p").attr("class","person__name").text(function(e){return e.name}),s.append("p").attr("class","person__summary").classed("is-flip",function(e){return["Miscellaneous","Exploiting Audience"].includes(e.cat)}).text(function(e){return e.controversy_summary})}function p(e){i.selectAll(".is-beauty").classed("is-active","beauty"===e),"insensitive"===e?i.selectAll(".person").classed("is-visible",function(e){return"Insensitive Video"===e.cat}).classed("is-mark",function(e){return"Logan Paul"===e.name}):"racist"===e?i.selectAll(".person").classed("is-visible",function(e){return"Racist Comments"===e.cat}).classed("is-mark",function(e){return"Laura Lee"===e.name}):"misc"===e?i.selectAll(".person").classed("is-visible",function(e){return"Miscellaneous"===e.cat}).classed("is-mark",function(e){return"Jenna Marbles"===e.name}):i.selectAll(".person").classed("is-visible",!0).classed("is-mark",!1)}function f(){(0,e.default)("people.csv").then(u)}var d={init:f,resize:o,slide:p};exports.default=d;
},{"./load-data":"xZJw"}],"ppRm":[function(require,module,exports) {
function t(t){return a(t)||e(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function a(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}d3.selection.prototype.puddingChartLine=function(n){var e=this.nodes().map(function(e){var a=d3.select(e),r=null,c=null,o=null,s=n.extentY,i=n.label,u=n.comp,l=a.datum(),d=!1,f=0,p=0,g=[],m=!0,h=!1,x=i.includes("Apology"),y=0,b=0,v=d3.easeCubicInOut,w=d3.scaleLinear(),A=d3.scaleLog().domain(s);function _(t){var n=t.append("g").attr("class",function(t){var n=t.beauty?"is-beauty":"",e="".concat(t.growth_delta).replace("-","neg"),a="growth--".concat(x?t.growth_post:t.growth_pre),r="cluster--".concat(e);return"person ".concat(a," ").concat(r," ").concat(n)}).attr("data-name",function(t){return t.name});return n.append("path").attr("class","path--bg"),n.append("path").attr("class","path--fg"),n.append("text").text(function(t){return t.name}),n}var k={init:function(){r=a.append("svg").attr("class","pudding-chart"),o=r.append("g").attr("class","g-vis"),(c=r.append("g").attr("class","g-axis")).append("g").attr("class","axis--y axis--y--bg"),c.append("g").attr("class","axis--y axis--y--fg"),c.append("text").attr("class","text-comp text-comp--bg").text(u).attr("x",6).attr("y",-6).attr("text-anchor","end").style("font-size",12),c.append("text").attr("class","text-comp text-comp--fg").text(u).attr("x",6).attr("y",-6).attr("text-anchor","end").style("font-size",12),c.append("text").attr("class","text-label").text(i).attr("x",0).attr("y",-6).attr("text-anchor",x?"end":"start").style("font-size",12)},resize:function(){var t=a.node().offsetWidth,n=a.node().offsetHeight;return y=t*(d?f:1)-14-28,b=n-16-16,w.range([0,y]),A.range([b,0]),r.style("margin-left",d3.format("%")(p)),k},render:function(){var n,e=(n=[]).concat.apply(n,t(l.map(function(t){return t.values}))).map(function(t){return t.days}),a=d3.extent(e);w.domain(a),r.transition().duration(500).ease(v).attr("width",y+14+28).attr("height",b+16+16);var s=d3.axisRight(A);s.tickValues([.5,1,2]).tickSize(y).tickFormat(function(t){return"".concat(t,"x").replace("0","")}),c.select(".axis--y--bg").transition().duration(500).ease(v).call(s),c.select(".axis--y--fg").transition().duration(500).ease(v).call(s),c.transition().duration(500).ease(v).attr("transform","translate(".concat(14,", ").concat(16,")")),o.transition().duration(500).ease(v).attr("transform","translate(".concat(14,", ").concat(16,")")),c.selectAll(".text-comp").transition().duration(500).ease(v).attr("transform","translate(".concat(y,", ").concat(A(1),")")),c.select(".text-label").transition().duration(500).ease(v).attr("transform","translate(".concat(x?y:0,", ").concat(b,")"));var i=d3.line().x(function(t){return w(t.days)}).y(function(t){return A(t.value)}),u=o.selectAll(".person").data(l,function(t){return t.key}).join(_);return u.classed("is-focus",function(t){return g.includes(t.name)}).classed("is-beauty",function(t){return m?t.beauty:g.includes(t.name)&&t.beauty}).classed("is-cluster",!m&&!g.length&&h).classed("is-focus-cluster",function(t){return h&&g.includes(t.name)}),u.sort(function(t,n){return d3.ascending(g.includes(t.name),g.includes(n.name))}),h&&u.sort(function(t,n){return d3.ascending(g.includes(t.name),g.includes(n.name))||d3.ascending(t.growth_delta<-2||t.growth_delta>0,n.growth_delta<-2||n.growth_delta>0)}),u.select(".path--bg").datum(function(t){return t.values}).transition().duration(500).ease(v).attr("d",i),u.select(".path--fg").datum(function(t){return t.values}).transition().duration(500).ease(v).attr("d",i),k},data:function(t){return arguments.length?(l=t,a.datum(l),k):l},getDayCount:function(){return d3.max(l,function(t){return t.values.length})},shrink:function(t){return d=t,k},fraction:function(t){return arguments.length?(f=t,k):f},offset:function(t){return arguments.length?(p=t,k):p},focus:function(t){return g=t||[],k},beauty:function(t){return m=t,k},cluster:function(t){return h=t,k}};return k.init(),k});return e.length>1?e:e.pop()};
},{}],"IClS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./load-data"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return o(e)||u(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,u=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(s){u=!0,o=s}finally{try{n||null==a.return||a.return()}finally{if(u)throw o}}return r}}function o(e){if(Array.isArray(e))return e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}require("./pudding-chart/impact-line");var c=null,l=null,f=d3.select('[data-js="impact"'),d=f.select('[data-js="impact__graphic"'),p=d.select('[data-js="graphic__zone"'),y=d.select('[data-js="figure--pre"'),v=d.select('[data-js="figure--post"');function b(){var e=c.getDayCount(),t=l.getDayCount(),r=Math.floor(.2*e),n=e+t+r,u=e/n,o=t/n,i=r/n;c.fraction(u),l.fraction(o).offset(u+i),p.style("width",d3.format("%")(i)).style("left",d3.format("%")(u))}function g(){b()}function m(e){var t=["pre-setup","pre-result","pre-example","post-setup"].includes(e),r=["post-positive","post-negative","post-cluster"].includes(e);v.classed("is-visible",!t),p.classed("is-visible",!t),c.shrink("post-result"===e),c.beauty(!r),l.beauty(!r),"pre-example"===e?c.focus(["Jake Paul"]).render():"post-positive"===e?(c.cluster(!0).focus(["Gabriel Zamora"]).render(),l.cluster(!0).focus(["Gabriel Zamora"]).render()):"post-negative"===e?(c.cluster(!0).focus(["Laura Lee"]).render(),l.cluster(!0).focus(["Laura Lee"]).render()):"post-cluster"===e?(c.cluster(!0).render(),l.cluster(!0).render()):(c.focus().cluster().render(),l.focus().cluster().render()),["pre-example","post-result"].includes(e)&&c.resize().render()}function h(e,t){var r=t?-1:1,n=t?"pre":"post";return e.map(function(e){return a({},e,{days:+e.days*r,value:+e.value,side:n})})}function j(e){var t=r(e,3),n=t[0],u=t[1],o=t[2],i=n.filter(function(e){return"FALSE"===e.remove_flag}).map(function(e){return a({},e,{growth_delta:+e.growth_delta})}),s=h(u,!0),f=h(o,!1),d=s.concat(f),p=d3.extent(d,function(e){return e.value}),g=d3.nest().key(function(e){return e.id}).entries(s).map(function(e){return a({},e,{cluster:e.values[0].cluster},i.find(function(t){return t.id===e.key}))}).filter(function(e){return e.id}),m=d3.nest().key(function(e){return e.id}).entries(f).map(function(e){return a({},e,{cluster:e.values[0].cluster},i.find(function(t){return t.id===e.key}))}).filter(function(e){return e.id});g.sort(function(e,t){return d3.ascending(e.beauty,t.beauty)}),m.sort(function(e,t){return d3.ascending(e.beauty,t.beauty)}),c=y.datum(g).puddingChartLine({extentY:p,label:"90 Days Until Controversy",comp:"Pre-Controversy Max"}),l=v.datum(m).puddingChartLine({extentY:p,label:"180 Days Since Apology",comp:"Pre-Apology Max"}),b(),c.resize().render(),l.shrink(!0).resize().render()}function O(){(0,e.default)(["people.csv","pre.csv","post.csv"]).then(j)}var w={init:O,resize:g,slide:m};exports.default=w;
},{"./load-data":"xZJw","./pudding-chart/impact-line":"ppRm"}],"oJIz":[function(require,module,exports) {
d3.selection.prototype.puddingChartBeeswarm=function(t){var e=this.nodes().map(function(t){var e=d3.select(t),n=e.datum(),r=0,a=0,c=0,u=d3.forceSimulation(n),o=d3.scaleLinear(),i=null,s=null,l=null,f=null,d={init:function(){i=e.append("svg").attr("class","pudding-chart"),s=e.append("div").attr("class","bees"),(f=i.append("g").attr("class","g-axis")).append("line").attr("class","axis")},resize:function(){return r=e.node().offsetWidth-0-0,a=e.node().offsetHeight-0-0,c=.25*a,e.style("height","".concat(a,"px")),i.attr("width",r+0+0).attr("height",a+0+0),f.select(".axis").transition().attr("y1",a/2).attr("y2",a/2).attr("x1",0).attr("x2",0+r),o.range([0,r+0]),u.force("y-pos",d3.forceY(a/2).strength(function(t){return t.beauty?1:.5})).force("x-pos",d3.forceX(function(t){return o(t.display)}).strength(function(t){return t.beauty?1:.5})).force("collide",d3.forceCollide(function(t){return t.beauty?c/2:c/8})),d},render:function(){return l=s.selectAll(".bee").data(n,function(t){return t.name}).join("div").attr("class",function(t){return"bee ".concat(t.beauty?"is-beauty":"")}).attr("data-js",function(t){return"bee--".concat(t.name.replace(/\s/g,""))}).style("background-image",function(t){return t.beauty?'url("assets/images/people/'.concat(t.name.replace(/\s/g,""),'@2x.jpg")'):""}).style("width",function(t){return"".concat(t.beauty?c:c/4,"px")}).style("height",function(t){return"".concat(t.beauty?c:c/4,"px")}).style("background-size","".concat(1.15*c,"px")).style("top",function(t){return t.beauty?a/2:0}).style("left",function(t){return t.beauty?o(t.display):0}),u.alpha(.4).on("tick",function(){l.style("left",function(t){return"".concat(t.x,"px")}).style("top",function(t){return"".concat(t.y,"px")})}).restart(),d},getBees:function(){return l}};return d.init(),d});return e.length>1?e:e.pop()};
},{}],"F0i1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./load-data"));function t(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}require("./pudding-chart/beeswarm");var s=d3.select('[data-js="beeswarm"]'),i=s.select('[data-js="beeswarm__graphic"]'),o=i.selectAll('[data-js="graphic__figure"]'),c=i.selectAll('[data-js="graphic__chart"]'),u=[];function l(){var e=d3.select('[data-type="text"] .slide__text').node().offsetHeight,t=Math.floor((s.node().offsetHeight-e)/c.size());c.style("height","".concat(t,"px")),u.forEach(function(e){e.resize().render()})}function d(e){return e.map(function(e){return r({},e,{beauty:"TRUE"===e.beauty})}).filter(function(e){return"NA"!==e.value})}function f(){var t=d3.select(this),a=t.attr("data-id"),r="beeswarm--".concat(a,".csv");(0,e.default)(r).then(d).then(function(e){var a=t.datum(e).puddingChartBeeswarm();a.resize().render(),a.getBees().nodes().map(p),u.push(a)})}function p(e){d3.select(e).on("mouseover",b).on("mouseout",y)}function b(e){_(this),h(this,e)}function y(){d3.selectAll(".bee").transition().duration(250).ease(d3.easeCubicInOut).style("opacity",1),d3.selectAll('[data-js="beeswarm__hovertext"]').transition().duration(250).ease(d3.easeCubicInOut).style("opacity",0)}function h(e,t){var a=e.parentElement.parentElement,r=e.getBoundingClientRect(),n=d3.select("[data-id=beeswarm__hovertext_".concat(a.getAttribute("data-id")));n.classed("is-beauty",t.beauty).style("left","".concat(r.x+r.width/2,"px")).style("top","".concat(r.y,"px")).transition().duration(250).ease(d3.easeCubicInOut).style("opacity",1),n.select('[data-js="beeswarm__hovertext__title"]').html(t.name),n.select('[data-js="beeswarm__hovertext__content"]').html(t.value)}function _(e){var t=d3.select(e).attr("data-js");d3.selectAll(".bee").transition().duration(250).ease(d3.easeCubicInOut).style("opacity",.25),d3.selectAll("[data-js=".concat(t,"]")).transition().duration(250).ease(d3.easeCubicInOut).style("opacity",1)}function m(){o.each(f),l()}var v={init:m,resize:l};exports.default=v;
},{"./load-data":"xZJw","./pudding-chart/beeswarm":"oJIz"}],"epB2":[function(require,module,exports) {
"use strict";var e=n(require("tiny-swiper")),i=n(require("lodash.debounce")),t=n(require("./utils/is-mobile")),s=n(require("./footer")),a=n(require("./graphic-images")),l=n(require("./graphic-people")),d=n(require("./graphic-category")),r=n(require("./graphic-impact")),c=n(require("./graphic-beeswarm"));function n(e){return e&&e.__esModule?e:{default:e}}var o=d3.select("body"),u=o.select(".graphics"),f=d3.selectAll('[data-js="slide"]'),v=d3.selectAll('[data-type="text"]'),p=d3.selectAll("section"),h=d3.select('[data-js="nerd-mode__button"]'),g=d3.selectAll('[data-js="slide__nerd"]'),b=d3.select('[data-js="arrow--left"]'),w=d3.select('[data-js="arrow--right"]'),_=d3.select('[data-js="accident__button"]'),m=f.size(),y=null;function x(){var e=d3.select(".slide--active").select('[data-js="slide__nerd"]');if(e.size()){var i=e.classed("is-visible");e.classed("is-visible",!i)}}function j(){var e=d3.select(".smokey"),i=e.classed("is-visible");e.classed("is-visible",!i)}function q(){var e=[];return v.each(function(i,t,s){var a=d3.select(s[t]).select(".slide__text");a.size()&&e.push(a.node().offsetHeight)}),Math.max.apply(Math,e)}function z(){y.update()}function k(){var e=q();u.style("height","".concat(window.innerHeight-e,"px")),v.select(".slide__text").style("height","".concat(e,"px"))}function M(){k(),a.default.resize(),l.default.resize(),d.default.resize(),r.default.resize(),c.default.resize(),z()}function C(){var i=0,t=d3.select('[data-js="swiper"]').node();(y=new e.default(t,{wrapperClass:"swiper__wrapper",slideClass:"slide",slideNextClass:"slide--next",slidePrevClass:"slide--prev",slideActiveClass:"slide--active"})).on("after-slide",function(e){g.classed("is-visible",!1),i=e;var t=f.filter(function(e,t){return t===i}),s=t.attr("data-slide"),c=t.attr("data-trigger"),n=!!t.attr("data-nerd");h.classed("is-visible",n),p.classed("is-visible",!1),c&&(d3.select('[data-js="'.concat(c,'"]')).classed("is-visible",!0),"category"===c&&d.default.slide(s),"impact"===c&&r.default.slide(s),"images"===c&&a.default.slide(s),"people"===c&&l.default.slide(s))});var s=function(e){e!==i&&(i=e,y.scroll(i)),b.classed("is-visible",i>0),w.classed("is-visible",i<m-1)};o.on("keydown",function(){var e=d3.event.keyCode,t=i;37===e?t-=1:39===e&&(t+=1),73===e&&y.scroll(12),66===e&&y.scroll(m-1),t=Math.max(0,Math.min(t,m-1)),s(t)}),g.classed("is-loaded",!0),b.on("click",function(){var e=i-1;e=Math.max(0,e),s(e)}),w.on("click",function(){var e=i+1;e=Math.min(e,m-1),s(e)})}function A(){h.on("click",x)}function H(){_.on("click",j)}function E(){o.style("height",window.innerHeight-100),o.classed("is-mobile",t.default.any()),window.addEventListener("resize",(0,i.default)(M,150)),k(),a.default.init(),l.default.init(),d.default.init(),r.default.init(),c.default.init(),C(),z(),A(),H(),s.default.init()}E();
},{"tiny-swiper":"cscv","lodash.debounce":"or4r","./utils/is-mobile":"WEtf","./footer":"v9Q8","./graphic-images":"f0mE","./graphic-people":"Pybl","./graphic-category":"X1gf","./graphic-impact":"IClS","./graphic-beeswarm":"F0i1"}]},{},["epB2"], null)