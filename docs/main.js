parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"cscv":[function(require,module,exports) {
var define;
var t;!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof t&&t.amd?t(i):(e=e||self).Swiper=i()}(this,function(){"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}function e(t,e){void 0===e&&(e=[]),Array.isArray(e)||(e=[e]),e.forEach(function(e){return!t.classList.contains(e)&&t.classList.add(e)})}function i(t,e){void 0===e&&(e=[]),Array.isArray(e)||(e=[e]),e.forEach(function(e){return t.classList.contains(e)&&t.classList.remove(e)})}function s(t,e){var i,s=getComputedStyle(t).transform.replace(/[a-z]|\(|\)|\s/g,"").split(",").map(parseFloat);return 16===s.length?i=s.slice(12,14):6===s.length&&(i=s.slice(4,6)),i[e?0:1]||0}var n=["INPUT","SELECT","OPTION","TEXTAREA","BUTTON","VIDEO"];return function(){function o(t,e){e=o.formatConfig(e),this.index=0,this.scrolling=!1,this.config=e,this.supportTouch=Boolean("ontouchstart"in window||0<window.navigator.maxTouchPoints||0<window.navigator.msMaxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch),"string"==typeof t&&(t=document.body.querySelector(t)),this.$el=t,this.$wrapper=t.querySelector("."+e.wrapperClass),this.eventHub={},this.initPlugins(e.plugins),this.emit("before-init",this),this.initListener(),this.initTouchStatus(),this.initWheelStatus(),this.update(),this.attachListener(),this.emit("after-init",this),this.scroll(e.initialSlide)}var r=o.prototype;return r.initPlugins=function(t){var e=this;(t||[]).forEach(function(t){return t(e)})},r.on=function(t,e){var i=this.eventHub;i[t]?i[t].push(e):i[t]=[e]},r.off=function(t,e){var i=this.eventHub;if(i[t]){var s=i[t].indexOf(e);-1<s&&i[t].splice(s,1)}},r.emit=function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];var n=this.eventHub;n[t]&&n[t].forEach(function(t){return t.apply(void 0,i)})},r.initListener=function(){var t=this,e=this.$wrapper,i=this.config,o=this.supportTouch;this.listeners={handleTouchStart:function(r){for(var a=0;a<i.excludeElements.length;a++)if(i.excludeElements[a].contains(r.target))return;t.initTouchStatus();var h=t.touchStatus,l=i.touchStartPreventDefault&&-1===n.indexOf(r.target.nodeName)||i.touchStartForcePreventDefault;h.startOffset=s(e,t.isHorizontal),t.transform(h.startOffset),e.style.transition="none",h.isTouchStart=!0,h.touchStartTime=Date.now(),h.touchTracks.push({x:o?r.touches[0].pageX:r.pageX,y:o?r.touches[0].pageY:r.pageY}),l&&!i.passiveListeners&&r.preventDefault()},handleTouchMove:function(e){var s=t.touchStatus,n=s.touchTracks;if(s.isTouchStart&&!s.isScrolling){i.touchMoveStopPropagation&&e.stopPropagation();var r={x:o?e.touches[0].pageX:e.pageX,y:o?e.touches[0].pageY:e.pageY},a={x:r.x-n[n.length-1].x,y:r.y-n[n.length-1].y};n.push(r);var h=180*Math.atan2(Math.abs(a.y),Math.abs(a.x))/Math.PI,l=0;t.isHorizontal?h<i.touchAngle||s.isTouching?(s.isTouching=!0,l=a.x,e.preventDefault()):s.isScrolling=!0:90-h<i.touchAngle||s.isTouching?(s.isTouching=!0,l=a.y,e.preventDefault()):s.isScrolling=!0,t.scrollPixel(l*i.touchRatio)}},handleTouchEnd:function(n){if(t.touchStatus.isTouchStart){var o=t.index,r=t.slideSize,a=t.touchStatus,h=Date.now()-a.touchStartTime,l=s(e,t.isHorizontal)-a.startOffset;e.style.transition="transform ease "+i.speed+"ms",h>t.config.longSwipesMs?Math.abs(l)>=r*i.longSwipesRatio?t.scroll(0<l?o-1:o+1,!0):t.scroll(o,!0):0==l?t.scroll(o,!0):t.scroll(0<l?o-1:o+1,!0),t.initTouchStatus()}},handleWheel:function(e){var s=t.index,n=t.wheelStatus,o=e.deltaY;(0<Math.abs(o)-Math.abs(n.wheelDelta)||!n.wheeling)&&Math.abs(o)>=i.mousewheel.sensitivity&&t.scroll(0<o?s-1:s+1),n.wheelDelta=o,clearTimeout(n.wheelingTimer),n.wheeling=!0,n.wheelingTimer=setTimeout(function(){t.initWheelStatus()},200),e.preventDefault(),e.stopPropagation()}}},r.attachListener=function(){var t=this.$el,e=this.config,i=this.supportTouch,s=this.listeners,n=s.handleTouchStart,o=s.handleTouchMove,r=s.handleTouchEnd,a=s.handleWheel;i?(t.addEventListener("touchstart",n,{passive:e.passiveListeners,capture:!1},!1),t.addEventListener("touchmove",o),t.addEventListener("touchend",r),t.addEventListener("touchcancel",r)):(t.addEventListener("mousedown",n),document.addEventListener("mousemove",o),document.addEventListener("mouseup",r)),e.mousewheel&&t.addEventListener("wheel",a)},r.detachListener=function(){var t=this.$el,e=this.listeners,i=e.handleTouchStart,s=e.handleTouchMove,n=e.handleTouchEnd,o=e.handleWheel;t.removeEventListener("touchstart",i),t.removeEventListener("touchmove",s),t.removeEventListener("touchend",n),t.removeEventListener("touchcancel",n),t.removeEventListener("mousedown",i),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",n),t.removeEventListener("wheel",o)},o.formatConfig=function(e){return void 0===e&&(e={}),e.mousewheel&&(e.mousewheel=t({invert:!1,sensitivity:1},e.mousewheel)),t({},{direction:"horizontal",touchRatio:1,touchAngle:45,longSwipesRatio:.5,initialSlide:0,loop:!1,mousewheel:!1,pagination:!1,passiveListeners:!0,resistance:!0,resistanceRatio:.85,speed:300,longSwipesMs:300,intermittent:0,spaceBetween:0,slidePrevClass:"swiper-slide-prev",slideNextClass:"swiper-slide-next",slideActiveClass:"swiper-slide-active",slideClass:"swiper-slide",wrapperClass:"swiper-wrapper",touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchMoveStopPropagation:!1,excludeElements:[]},{},e)},r.transform=function(t){this.$wrapper.style.transform=this.isHorizontal?"translate3d("+t+"px, 0, 0)":"translate3d(0, "+t+"px, 0)"},r.scroll=function(t,s){var n=this;if(void 0===t&&(t=0),void 0===s&&(s=!1),!this.scrolling||s){this.emit("before-slide",this.index,this);var o=this.config,r=this.minIndex,a=this.maxIndex,h=(t=t<r?r:a<t?a:t)*this.boxSize;this.scrolling=!0,this.transform(-h);var l=this.$list[t],c=this.$list[t-1],u=this.$list[t+1];l&&(e(l,o.slideActiveClass),i(l,[o.slidePrevClass,o.slideNextClass])),c&&(e(c,o.slidePrevClass),i(c,[o.slideActiveClass,o.slideNextClass])),u&&(e(u,o.slideNextClass),i(u,[o.slideActiveClass,o.slidePrevClass])),this.index=t,setTimeout(function(){n.scrolling=!1,n.emit("after-slide",t,n)},this.config.speed+this.config.intermittent)}},r.scrollPixel=function(t){var e=t.toExponential().split("e")[1],i=e<=0?Math.pow(10,-(e-1)):1;this.config.resistance&&(0<t&&0===this.index?t-=Math.pow(t*i,this.config.resistanceRatio)/i:t<0&&this.index===this.maxIndex&&(t+=Math.pow(-t*i,this.config.resistanceRatio)/i));var n=s(this.$wrapper,this.isHorizontal);this.transform(n+t)},r.initTouchStatus=function(){this.touchStatus={touchTracks:[],startOffset:0,touchStartTime:0,isTouchStart:!1,isScrolling:!1,isTouching:!1}},r.initWheelStatus=function(){this.wheelStatus={wheeling:!1,wheelDelta:0,wheelingTimer:!1}},r.update=function(){var t=this,e=this.$el,i=this.$wrapper,s=this.index,n=this.config,o=i.style,r="horizontal"===n.direction;this.isHorizontal=r,this.$list=[].slice.call(e.getElementsByClassName(n.slideClass)),this.minIndex=0,this.maxIndex=this.$list.length-1,this.slideSize=r?e.offsetWidth:e.offsetHeight,this.boxSize=this.slideSize+n.spaceBetween,this.$list.forEach(function(e){e.style[r?"width":"height"]=t.slideSize+"px",e.style[r?"margin-right":"margin-bottom"]=n.spaceBetween+"px"}),e.style.overflow="hidden",o.willChange="transform",o.transition="transform ease "+this.config.speed+"ms",o[r?"width":"height"]=this.boxSize*this.$list.length+"px",o.display="flex",o.flexDirection=r?"row":"column",this.transform(-s*this.boxSize)},r.destroy=function(){var t=this.$el,e=this.$wrapper,s=this.config.slideActiveClass;this.emit("before-destroy",this),this.$list.forEach(function(t){t.removeAttribute("style"),i(t,[s])}),e.removeAttribute("style"),t.removeAttribute("style"),this.detachListener(),this.emit("after-destroy",this),this.$el=null,this.$list=[],this.$wrapper=null,this.eventHub={},this.config=o.formatConfig()},o}()});
},{}],"or4r":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e="Expected a function",n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,v=a||s||Function("return this")(),l=Object.prototype,p=l.toString,b=Math.max,m=Math.min,y=function(){return v.Date.now()};function d(t,n,r){var i,o,u,f,c,a,s=0,v=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError(e);function d(e){var n=i,r=o;return i=o=void 0,s=e,f=t.apply(r,n)}function g(t){var e=t-a;return void 0===a||e>=n||e<0||l&&t-s>=u}function O(){var t=y();if(g(t))return x(t);c=setTimeout(O,function(t){var e=n-(t-a);return l?m(e,u-(t-s)):e}(t))}function x(t){return c=void 0,p&&i?d(t):(i=o=void 0,f)}function T(){var t=y(),e=g(t);if(i=arguments,o=this,a=t,e){if(void 0===c)return function(t){return s=t,c=setTimeout(O,n),v?d(t):f}(a);if(l)return c=setTimeout(O,n),d(a)}return void 0===c&&(c=setTimeout(O,n)),f}return n=h(n)||0,j(r)&&(v=!!r.leading,u=(l="maxWait"in r)?b(h(r.maxWait)||0,n):u,p="trailing"in r?!!r.trailing:p),T.cancel=function(){void 0!==c&&clearTimeout(c),s=0,i=a=o=c=void 0},T.flush=function(){return void 0===c?f:x(y())},T}function j(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){return!!t&&"object"==typeof t}function O(t){return"symbol"==typeof t||g(t)&&p.call(t)==r}function h(t){if("number"==typeof t)return t;if(O(t))return n;if(j(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=j(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=u.test(t);return r||f.test(t)?c(t.slice(2),r?2:8):o.test(t)?n:+t}module.exports=d;
},{}],"WEtf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return r.android()||r.blackberry()||r.ios()||r.opera()||r.windows()}},e=r;exports.default=e;
},{}],"v9Q8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Womenâ€™s Pockets are Inferior"}],e=null;function n(t,e){var n=document.getElementsByTagName("script")[0],a=document.createElement("script");return a.src=t,a.async=!0,n.parentNode.insertBefore(a,n),e&&"function"==typeof e&&(a.onload=e),a}function a(e){var n=new XMLHttpRequest,a=Date.now(),o="https://pudding.cool/assets/data/stories.json?v=".concat(a);n.open("GET",o,!0),n.onload=function(){if(n.status>=200&&n.status<400){var a=JSON.parse(n.responseText);e(a)}else e(t)},n.onerror=function(){return e(t)},n.send()}function o(t){return"\n\t<a class='footer-recirc__article' href='https://pudding.cool/".concat(t.url,"' target='_blank'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/").concat(t.image,".jpg' alt='").concat(t.hed,"'>\n\t\t<p class='article__headline'>").concat(t.hed,"</p>\n\t</a>\n\t")}function r(){var t=window.location.href,n=e.filter(function(e){return!t.includes(e.url)}).slice(0,4).map(o).join("");d3.select(".pudding-footer .footer-recirc__articles").html(n)}function s(){a(function(t){e=t,r()})}var c={init:s};exports.default=c;
},{}],"f0mE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=d3.select('[data-js="images"'),e=t.select('[data-js="images__figure"');function a(){}function r(){e.selectAll("img").transition().duration(0).delay(function(t,e){return 750*e}).on("end",function(t,e,a){var r=d3.select(a[e]),d=r.attr("data-top"),n=r.attr("data-left");r.style("top",d).style("left",n)})}function d(){e.selectAll("img").each(function(t,e,a){var r=d3.format("%")(.4+.2*Math.random()),d=d3.format("%")(.2+.6*Math.random());d3.select(a[e]).attr("data-top",r).attr("data-left",d)})}var n={init:d,resize:a,slide:r};exports.default=n;
},{}],"Pybl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=d3.select('[data-js="people"'),e=t.select('[data-js="people__figure"');function a(){}function o(){e.selectAll("img").transition().duration(0).delay(function(t,e){return 500*e}).on("end",function(t,e,a){var o=d3.select(a[e]),r=o.attr("data-top"),l=o.attr("data-left");o.style("top",r).style("left",l)})}function r(){e.selectAll("img").each(function(t,e,a){var o=d3.format("%")(.4+.2*Math.random()),r=d3.format("%")(.2+.6*Math.random());d3.select(a[e]).attr("data-top",o).attr("data-left",r)})}var l={init:r,resize:a,slide:o};exports.default=l;
},{}],"xZJw":[function(require,module,exports) {
"use strict";function t(t){return new Promise(function(e,n){var r=t.split(".").pop();"csv"===r?d3.csv("assets/data/".concat(t)).then(e).catch(n):"json"===r?d3.json("assets/data/".concat(t)).then(e).catch(n):n(new Error("unsupported file type for: ".concat(t)))})}function e(e){if("string"==typeof e)return t(e);var n=e.map(t);return Promise.all(n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"X1gf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./load-data"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=d3.select('[data-js="category"'),i=a.select('[data-js="category__graphic"'),o=i.select('[data-js="graphic__figure"'),c=960,l=240,u=!1,p=0,f=0,d=["Copywriting","Incorrect Statement","Low-quality Product","Inappropriate Animal Care","Plagiarism"];function v(){var e=d3.select(this),t=e.select(".person__summary"),n="auto",r="auto",s="auto",a="auto";if(u){var i=e.node().getBoundingClientRect(),o=t.node().getBoundingClientRect();if(o.height+o.top>p?r="100%":n="100%",i.left+i.width/2>f/2){s="auto";var c=i.right-l;a="".concat(c<16?c:0,"px")}else{a="auto";var d=i.left+l-f;s="".concat(d>16?-d:0,"px")}t.style("top",n),t.style("bottom",r),t.style("left",s),t.style("right",a)}else{var v=t.node();v.removeAttribute("top"),v.removeAttribute("bottom"),v.removeAttribute("left"),v.removeAttribute("right")}}function y(){p=window.innerHeight,f=a.node().offsetWidth,u=f<c,o.selectAll(".person").each(v)}function b(e){var t=e.filter(function(e){return"FALSE"===e.remove_flag}).map(function(e){return r({},e,{cat:d.includes(e.controversy_type)?"Miscellaneous":e.controversy_type})}),n=d3.nest().key(function(e){return e.cat}).entries(t).map(function(e){return r({},e,{values:e.values.concat([{name:e.key,label:!0,cat:e.values[0].cat}])})});n.sort(function(e,t){return d3.descending(e.values.length,t.values.length)});var s=o.selectAll(".controversy").data(n).join("div").attr("class","controversy").selectAll(".person").data(function(e){return e.values}).join("div").attr("class",function(e){return"person ".concat(e.label?"is-label":""," ").concat(e.beauty?"is-beauty":"")});s.append("p").attr("class","person__name").text(function(e){return e.name}),s.append("p").attr("class","person__summary").classed("is-flip",function(e){return["Miscellaneous","Exploiting Audience"].includes(e.cat)}).text(function(e){return e.controversy_summary}),y()}function m(e){o.selectAll(".is-beauty").classed("is-active","beauty"===e),"insensitive"===e?o.selectAll(".person").classed("is-visible",function(e){return"Insensitive Video"===e.cat}).classed("is-mark",function(e){return"Logan Paul"===e.name}):"racist"===e?o.selectAll(".person").classed("is-visible",function(e){return"Racist Comments"===e.cat}).classed("is-mark",function(e){return"Laura Lee"===e.name}):"misc"===e?o.selectAll(".person").classed("is-visible",function(e){return"Miscellaneous"===e.cat}).classed("is-mark",function(e){return"Jenna Marbles"===e.name}):o.selectAll(".person").classed("is-visible",!0).classed("is-mark",!1)}function g(){(0,e.default)("people.csv").then(b)}var h={init:g,resize:y,slide:m};exports.default=h;
},{"./load-data":"xZJw"}],"ppRm":[function(require,module,exports) {
function t(t){return a(t)||e(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function a(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}d3.selection.prototype.puddingChartLine=function(n){var e=this.nodes().map(function(e){var a=d3.select(e),r=null,c=null,s=null,o=null,i=n.extentY,u=n.label,l=n.comp,d=a.datum(),f=!1,p=0,g=0,m=[],h=null,x=!0,y=!1,b=!0,v=!1,w=u.includes("Apology"),A=0,_=0,z=d3.easeCubicInOut,k=d3.scaleLinear(),j=d3.scaleLog().domain(i);function C(t){var n=t.append("g").attr("class",function(t){var n=t.beauty?"is-beauty":"",e="".concat(t.growth_delta).replace("-","neg"),a="growth--".concat(w?t.growth_post:t.growth_pre),r="cluster--".concat(e);return"person ".concat(a," ").concat(r," ").concat(n)}).attr("data-name",function(t){return t.name});return n.append("path").attr("class","path--bg"),n.append("path").attr("class","path--fg"),n.append("text").text(function(t){return t.name}),n}var L={init:function(){r=a.append("svg").attr("class","pudding-chart"),c=r.append("g").attr("class","g-axis"),s=r.append("g").attr("class","g-vis"),o=r.append("g").attr("class","g-label"),c.append("g").attr("class","axis--y axis--y--bg"),c.append("g").attr("class","axis--y axis--y--fg"),o.append("text").attr("class","text-comp text-comp--bg").text(l).attr("x",-6).attr("y",-6).attr("text-anchor","end").style("font-size",12),o.append("text").attr("class","text-comp text-comp--fg").text(l).attr("x",-6).attr("y",-6).attr("text-anchor","end").style("font-size",12),o.append("text").attr("class","text-label").text(u).attr("x",0).attr("y",-6).attr("text-anchor",w?"end":"start").style("font-size",12)},resize:function(){var t=a.node().offsetWidth,n=a.node().offsetHeight;return v=t<480,A=t*(f?p:1)-14-28,_=n-16-16,k.range([0,A]),j.range([_,0]),r.style("margin-left",d3.format("%")(g)),L},render:function(){var n,e=(n=[]).concat.apply(n,t(d.map(function(t){return t.values}))).map(function(t){return t.days}),a=d3.extent(e);k.domain(a),r.transition().duration(500).ease(z).attr("width",A+14+28).attr("height",_+16+16);var i=d3.axisRight(j);i.tickValues([.5,1,2]).tickSize(A).tickFormat(function(t){return"".concat(t,"x").replace("0","")}),c.select(".axis--y--bg").transition().duration(500).ease(z).call(i),c.select(".axis--y--fg").transition().duration(500).ease(z).call(i),c.transition().duration(500).ease(z).attr("transform","translate(".concat(14,", ").concat(16,")")),s.transition().duration(500).ease(z).attr("transform","translate(".concat(14,", ").concat(16,")")),o.transition().duration(500).ease(z).attr("transform","translate(".concat(14,", ").concat(16,")")),o.selectAll(".text-comp").text(v&&!b?"":l).transition().duration(500).ease(z).attr("transform","translate(".concat(A,", ").concat(j(1),")")),o.select(".text-label").text(v&&!b?u.replace("Controversy",""):u).transition().duration(500).ease(z).attr("transform","translate(".concat(w?A:0,", ").concat(_,")")).style("font-size","".concat(v?10:12,"px"));var f=d3.line().x(function(t){return k(t.days)}).y(function(t){return j(t.value)}),p=s.selectAll(".person").data(d,function(t){return t.key}).join(C);return p.classed("is-focus",function(t){return m.includes(t.name)}).classed("is-highlight",function(t){return h===t.name}).classed("is-beauty",function(t){return x?t.beauty:m.includes(t.name)&&t.beauty}).classed("is-cluster",!x&&!m.length&&y).classed("is-focus-cluster",function(t){return y&&m.includes(t.name)}),p.sort(function(t,n){return d3.ascending(t.name===h,n.name===h)||d3.ascending(m.includes(t.name),m.includes(n.name))}),y&&p.sort(function(t,n){return d3.ascending(t.name===h,n.name===h)||d3.ascending(m.includes(t.name),m.includes(n.name))||d3.ascending(t.growth_delta<-2||t.growth_delta>0,n.growth_delta<-2||n.growth_delta>0)}),p.select(".path--bg").datum(function(t){return t.values}).transition().duration(500).ease(z).attr("d",f),p.select(".path--fg").datum(function(t){return t.values}).transition().duration(500).ease(z).attr("d",f),L},data:function(t){return arguments.length?(d=t,a.datum(d),L):d},getDayCount:function(){return d3.max(d,function(t){return t.values.length})},shrink:function(t){return f=t,L},fraction:function(t){return arguments.length?(p=t,L):p},offset:function(t){return arguments.length?(g=t,L):g},focus:function(t){return m=t||[],L},beauty:function(t){return x=t,L},cluster:function(t){return y=t,L},highlight:function(t){return h=t,L},pre:function(t){return b=t,L}};return L.init(),L});return e.length>1?e:e.pop()};
},{}],"IClS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./load-data"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return o(e)||i(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(s){i=!0,o=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}}function o(e){if(Array.isArray(e))return e}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}require("./pudding-chart/impact-line");var c=480,l=!1,d=null,f=null,p=d3.select('[data-js="impact"'),g=p.select('[data-js="impact__graphic"'),h=g.select('[data-js="graphic__zone"'),y=g.select('[data-js="figure--pre"'),v=g.select('[data-js="figure--post"'),b=g.select('[data-js="graphic__select"');function m(){var e=this.value;"Highlight"===e&&d.highlight().render(),d.highlight(e).render(),f.highlight(e).render()}function j(){l=p.node().offsetWidth<c;var e=d.getDayCount(),t=f.getDayCount(),r=Math.floor(e*(l?.05:.2)),n=e+t+r,i=e/n,o=t/n,u=r/n;d.fraction(i),f.fraction(o).offset(i+u),h.style("width",d3.format("%")(u)).style("left",d3.format("%")(i))}function O(){j()}function w(e){b.selectAll("option").property("selected",function(e){return"Highlight"===e.name});var t=["pre-setup","pre-result","pre-example","post-setup"].includes(e),r=["post-positive","post-negative","post-cluster"].includes(e);b.classed("is-visible",!t),v.classed("is-visible",!t),h.classed("is-visible",!t),d.shrink("post-result"===e),d.beauty(!r),f.beauty(!r),d.highlight(),f.highlight(),d.pre(t),"pre-example"===e?d.focus(["Jake Paul"]).render():"post-positive"===e?(d.cluster(!0).focus(["Gabriel Zamora"]).render(),f.cluster(!0).focus(["Gabriel Zamora"]).render()):"post-negative"===e?(d.cluster(!0).focus(["Laura Lee"]).render(),f.cluster(!0).focus(["Laura Lee"]).render()):"post-cluster"===e?(d.cluster(!0).render(),f.cluster(!0).render()):(d.focus().cluster().render(),f.focus().cluster().render()),["pre-example","post-result"].includes(e)&&d.resize().render()}function x(e,t){var r=t?-1:1,n=t?"pre":"post";return e.map(function(e){return a({},e,{days:+e.days*r,value:+e.value,side:n})})}function P(e){b.selectAll("option").data([{name:"Highlight"}].concat(e)).join("option").text(function(e){return e.name}),b.on("change",m)}function _(e){var t=r(e,3),n=t[0],i=t[1],o=t[2],u=n.filter(function(e){return"FALSE"===e.remove_flag}).map(function(e){return a({},e,{growth_delta:+e.growth_delta})}),s=x(i,!0),c=x(o,!1),l=s.concat(c),p=d3.extent(l,function(e){return e.value}),g=d3.nest().key(function(e){return e.id}).entries(s).map(function(e){return a({},e,{cluster:e.values[0].cluster},u.find(function(t){return t.id===e.key}))}).filter(function(e){return e.id}),h=d3.nest().key(function(e){return e.id}).entries(c).map(function(e){return a({},e,{cluster:e.values[0].cluster},u.find(function(t){return t.id===e.key}))}).filter(function(e){return e.id});g.sort(function(e,t){return d3.ascending(e.beauty,t.beauty)}),h.sort(function(e,t){return d3.ascending(e.beauty,t.beauty)}),d=y.datum(g).puddingChartLine({extentY:p,label:"90 Days Until Controversy",comp:"Pre-Controversy Max"}),f=v.datum(h).puddingChartLine({extentY:p,label:"180 Days Since Apology",comp:"Pre-Apology Max"}),j(),d.resize().render(),f.shrink(!0).resize().render(),P(u)}function k(){(0,e.default)(["people.csv","pre.csv","post.csv"]).then(_)}var A={init:k,resize:O,slide:w};exports.default=A;
},{"./load-data":"xZJw","./pudding-chart/impact-line":"ppRm"}],"oJIz":[function(require,module,exports) {
d3.selection.prototype.puddingChartBeeswarm=function(t){var e=this.nodes().map(function(t){var e=d3.select(t),n=e.datum(),r=0,a=0,c=0,o=0,u=d3.forceSimulation(n),i=d3.scaleLinear(),s=d3.scaleLinear(),l=null,f=null,p=null,d=null,y={init:function(){l=e.append("svg").attr("class","pudding-chart"),f=e.append("div").attr("class","bees"),(d=l.append("g").attr("class","g-axis")).append("line").attr("class","axis")},resize:function(t){var n=d3.select("#beeswarm .graphic__title").node().offsetHeight;return r=e.node().parentElement.offsetWidth,a=e.node().parentElement.offsetHeight-n,c=Math.floor(t?.33*r:.25*a),o=Math.floor(.5*c),r-=2*o,a-=2*o,e.style("height","".concat(a+2*o,"px")),l.attr("width",r+2*o).attr("height",a+2*o),d.select(".axis").attr("transform","translate(".concat(o,", ").concat(o,")")).transition().attr("y1",t?0:a/2).attr("y2",t?0+a:a/2).attr("x1",t?r/2:0).attr("x2",t?r/2:0+r),i.range([0,r]),s.range([a,0]),f.style("top","".concat(o,"px")).style("left","".concat(o,"px")),u.force("y-pos",t?d3.forceY(function(t){return s(t.display)}).strength(function(t){return t.beauty?1:.5}):d3.forceY(a/2).strength(function(t){return t.beauty?1:.5})).force("x-pos",t?d3.forceX(r/2).strength(function(t){return t.beauty?1:.5}):d3.forceX(function(t){return i(t.display)}).strength(function(t){return t.beauty?1:.5})).force("collide",d3.forceCollide(function(t){return t.beauty?c/1.95:c/8})),y},render:function(){return p=f.selectAll(".bee").data(n,function(t){return t.name}).join("div").attr("class",function(t){return"bee ".concat(t.beauty?"is-beauty":"")}).attr("data-js",function(t){return"bee--".concat(t.name.replace(/\s/g,""))}).style("background-image",function(t){return t.beauty?'url("assets/images/people/'.concat(t.name.replace(/\s/g,""),'@2x.jpg")'):""}).style("width",function(t){return"".concat(t.beauty?c:c/4,"px")}).style("height",function(t){return"".concat(t.beauty?c:c/4,"px")}).style("background-size","".concat(1.15*c,"px")).style("top",function(t){return t.beauty?a/2:0}).style("left",function(t){return t.beauty?i(t.display):0}),u.alpha(.4).on("tick",function(){p.style("left",function(t){return"".concat(t.x,"px")}).style("top",function(t){return"".concat(t.y,"px")})}).restart(),y},getBees:function(){return p}};return y.init(),y});return e.length>1?e:e.pop()};
},{}],"F0i1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./load-data"));function t(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}require("./pudding-chart/beeswarm");var i=d3.select("body"),s=d3.select('[data-js="beeswarm"]'),o=s.select('[data-js="beeswarm__graphic"]'),c=o.selectAll('[data-js="graphic__figure"]'),l=o.selectAll('[data-js="graphic__chart"]'),u=480,d=40,f=[],p=!1;function b(e){if(_(),["GabrielZamora","JeffreeStar","JamesCharles","JaclynHill","LauraLee"].includes(e)){var t=d3.selectAll('[data-js="bee--'.concat(e,'"'));j(t.node()),t.each(function(e){O(this,e)})}}function h(){var e=(p=i.node().offsetWidth<u)?s.node().offsetHeight-d:Math.floor(s.node().offsetHeight/l.size());l.style("height","".concat(e,"px")),f.forEach(function(e){e.resize(p).render()})}function y(e){return e.map(function(e){return r({},e,{beauty:"TRUE"===e.beauty})}).filter(function(e){return"NA"!==e.value})}function v(){var t=d3.select(this),a=t.attr("data-id"),r="beeswarm--".concat(a,".csv");(0,e.default)(r).then(y).then(function(e){var a=t.datum(e).puddingChartBeeswarm();a.resize(p).render(),a.getBees().nodes().forEach(g),f.push(a)})}function g(e){d3.select(e).on("mouseover",m).on("mouseout",_)}function m(e){j(this),O(this,e)}function _(){d3.selectAll(".bee").transition().duration(250).ease(d3.easeCubicInOut).style("opacity",1),d3.selectAll('[data-js="beeswarm__hovertext"]').transition().duration(250).ease(d3.easeCubicInOut).style("opacity",0)}function O(e,t){var a=e.parentElement.parentElement,r=e.getBoundingClientRect(),n=a.getAttribute("data-id"),i=d3.select('[data-id="beeswarm__hovertext_'.concat(n,'"]'));i.select('[data-js="beeswarm__hovertext__title"]').html(t.name),i.select('[data-js="beeswarm__hovertext__content"]').html(t.value);var s=!p&t.display<.2|p&"sorries"==t.type?0:!p&t.display<.8|p&"ratios"==t.type?i.node().getBoundingClientRect().width/2:i.node().getBoundingClientRect().width;i.classed("is-beauty",t.beauty).style("left","".concat(r.x+r.width/2-s,"px")).style("top","".concat(r.y,"px")).transition().duration(250).ease(d3.easeCubicInOut).style("opacity",1)}function j(e){var t=d3.select(e).attr("data-js");d3.selectAll(".bee").transition().duration(250).ease(d3.easeCubicInOut).style("opacity",.25),d3.selectAll("[data-js=".concat(t,"]")).transition().duration(250).ease(d3.easeCubicInOut).style("opacity",1)}function w(){c.each(v),h(),o.classed("is-interactive",!i.classed("is-mobile"))}var x={init:w,resize:h,slide:b};exports.default=x;
},{"./load-data":"xZJw","./pudding-chart/beeswarm":"oJIz"}],"epB2":[function(require,module,exports) {
"use strict";var e=n(require("tiny-swiper")),i=n(require("lodash.debounce")),s=n(require("./utils/is-mobile")),t=n(require("./footer")),a=n(require("./graphic-images")),l=n(require("./graphic-people")),d=n(require("./graphic-category")),r=n(require("./graphic-impact")),c=n(require("./graphic-beeswarm"));function n(e){return e&&e.__esModule?e:{default:e}}var o=d3.select("body"),u=o.select(".graphics"),f=o.selectAll('[data-js="slide"]'),v=o.selectAll('[data-type="text"]'),p=o.selectAll("section"),h=o.select('[data-js="nerd-mode__button"]'),g=o.selectAll('[data-js="slide__nerd"]'),w=o.select('[data-js="arrows"]'),_=o.select('[data-js="intro__start"]'),b=o.select('[data-js="arrow--left"]'),m=o.select('[data-js="arrow--right"]'),y=o.select('[data-js="progress__inner"]'),j=f.size(),x=null;function q(){var e=d3.select(".slide--active").select('[data-js="slide__nerd"]');if(e.size()){var i=e.classed("is-visible");e.classed("is-visible",!i)}}function z(){var e=[];return v.each(function(i,s,t){var a=d3.select(t[s]).select(".slide__text");a.size()&&e.push(a.node().offsetHeight)}),Math.max.apply(Math,e)}function M(){x.update()}function C(){var e=z();u.style("height","".concat(window.innerHeight-e,"px")),v.select(".slide__text").style("height","".concat(e,"px"))}function k(){C(),a.default.resize(),l.default.resize(),d.default.resize(),r.default.resize(),c.default.resize(),M()}function A(){var i=0,s=d3.select('[data-js="swiper"]').node();(x=new e.default(s,{wrapperClass:"swiper__wrapper",slideClass:"slide",slideNextClass:"slide--next",slidePrevClass:"slide--prev",slideActiveClass:"slide--active"})).on("after-slide",function(e){g.classed("is-visible",!1),i=e;var s=f.filter(function(e,s){return s===i}),t=s.attr("data-slide"),n=s.attr("data-trigger"),o=!!s.attr("data-nerd");h.classed("is-visible",o),p.classed("is-visible",!1),y.style("width",d3.format("%")(i/(j-1))),n&&(d3.select('[data-js="'.concat(n,'"]')).classed("is-visible",!0),"category"===n&&d.default.slide(t),"impact"===n&&r.default.slide(t),"images"===n&&a.default.slide(t),"people"===n&&l.default.slide(t),"beeswarm"===n&&c.default.slide(t))});var t=function(e){e!==i&&(i=e,x.scroll(i)),b.classed("is-visible",i>0),m.classed("is-visible",i<j-1)};o.on("keydown",function(){var e=d3.event.keyCode,s=i;37===e?s-=1:39===e&&(s+=1),73===e&&x.scroll(12),66===e&&x.scroll(j-8),s=Math.max(0,Math.min(s,j-1)),t(s)}),g.classed("is-loaded",!0),b.on("click",function(){var e=i-1;e=Math.max(0,e),t(e)}),m.on("click",function(){var e=i+1;e=Math.min(e,j-1),t(e)})}function H(){h.on("click",q)}function E(){o.style("height",window.innerHeight-100),o.classed("is-mobile",s.default.any()),w.classed("is-visible",!0),_.classed("is-visible",!0),window.addEventListener("resize",(0,i.default)(k,150)),C(),a.default.init(),l.default.init(),d.default.init(),r.default.init(),c.default.init(),A(),M(),H(),t.default.init()}E();
},{"tiny-swiper":"cscv","lodash.debounce":"or4r","./utils/is-mobile":"WEtf","./footer":"v9Q8","./graphic-images":"f0mE","./graphic-people":"Pybl","./graphic-category":"X1gf","./graphic-impact":"IClS","./graphic-beeswarm":"F0i1"}]},{},["epB2"], null)