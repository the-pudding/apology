/* CUSTOM STORY STYLE */
html, body
	height 100%

body
	font-weight bold
	font-family $sans

main
	position relative
	overflow hidden
	height 100%

mark
	padding 0 0.25em
	background-color $primary
	color $bg

	&.non
		background-color $secondary

	&.neg
		background-color $red
		color $bg

	&.pos
		background-color $teal
		color $bg

section
	position absolute
	top 0
	left 0
	display flex
	align-items flex-end
	width 100%
	height 100%
	opacity 0
	transition $fade-out ease-in
	pointer-events none

	&.is-visible
		opacity 1
		transition $fade ease-out
		pointer-events auto

.graphics, .swiper, .arrows
	position absolute
	top 0
	left 0
	width 100%
	height 100%
	user-select none

.graphics
	left 0.5rem
	width calc(100% - 1rem)

	+mq('bp-6')
		left 4rem
		width calc(100% - 8rem)

.graphics
	top auto
	bottom 0

.swiper
	pointer-events none

.arrows
	display none
	pointer-events none

	&.is-visible
		display block

.arrow
	position absolute
	top 50%
	left 1rem
	visibility hidden
	padding 0.25rem
	border 2px solid $fg
	background rgba($bg, 0.5)
	line-height 1
	transition transform 100ms ease-in-out
	transform translate(0, -50%)
	pointer-events auto

	&:hover
		transform translate(-10%, -50%)

	&.is-visible
		visibility visible

	svg
		width 2rem
		height 2rem

	&--right
		right 1rem
		left auto

		&:hover
			transform translate(10%, -50%)

.is-mobile .arrows
	display none

.is-mobile .swiper
	pointer-events auto

.swiper__wrapper
	height 100%

.slide
	position relative
	height 100%

	.slide__nerd
		position absolute
		top 0
		left 0
		z-index set-index(overlay)
		display flex
		visibility hidden
		align-items center
		width 100%
		height 100%
		background-color $secondary
		transition transform 250ms ease-in-out
		transform translateY(-100%)

		&.is-visible
			transform translateY(0)
			pointer-events auto

		&.is-loaded
			visibility visible

		p
			color $bg

		a
			border-color $bg
			color $bg

	// .slide__text
	p
		set-type-size(small, true)
		margin 0 auto
		padding 1rem
		padding-right 3rem
		max-width 60rem
		text-align left
		line-height 1.4

		+mq('bp-4')
			set-type-size(x-large, true)
			padding-right 0

	&.is-center.slide--inter p
		text-align center

	&.is-center.slide--text p
		+mq('bp-6')
			text-align center

.slide--inter
	display flex
	flex-direction column
	justify-content center
	background $fg
	color $bg

	img, video
		display block
		margin 2rem auto
		max-width 32rem
		width calc(100% - 2.5rem)
		box-shadow 0px 0px 0px 0.25rem $bg

		+mq('bp-6')
			box-shadow 0px 0px 0px 0.5rem $bg

	.slide__text
		background transparent

		p
			set-type-size(large, true)
			margin 0 auto
			padding 1rem
			max-width 60rem

			+mq('bp-4')
				set-type-size(xx-large, true)

		a
			border-bottom 2px solid $white
			color $white
			pointer-events auto

.graphic__title
	text-align center
	text-transform uppercase
	set-type-size(x-small)
	margin 0
	line-height 1

	+mq('bp-6')
		set-type-size(root)

.btn
	background-color $primary
	color $bg
	font-weight bold
	font-family $sans
	set-type-size(xx-large)
	padding 0.5em
	line-height 1

.section__figure
	position absolute
	top 0
	left 0
	width 100%
	height 100%

svg text
	font-family $sans

.mobile
	display none

.is-mobile
	.mobile
		display block

	.desktop
		display none

.nerd-mode
	position absolute
	top 0
	right 0
	padding 0.5rem

	+mq('bp-4')
		padding 1rem

	button
		padding 0.35em
		border 2px solid $bg
		font-size 1rem
		line-height 1
		opacity 0
		transition opacity 100ms ease-in-out
		pointer-events none

		+mq('bp-6')
			font-size 2rem

		&.is-visible
			opacity 1
			pointer-events auto

		&:hover
			background-color $secondary

.progress
	position absolute
	top 0
	left 0
	width 100%
	height 0.25rem

	&__inner
		width 0
		height 100%
		background-color $gray-light
